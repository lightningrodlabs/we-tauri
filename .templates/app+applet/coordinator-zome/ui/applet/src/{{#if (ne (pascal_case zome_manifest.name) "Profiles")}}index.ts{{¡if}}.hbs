import { {{pascal_case zome_manifest.name}}Store, {{pascal_case zome_manifest.name}}Client } from 'lib';
import 'lib/{{dna_role_name}}/{{kebab_case zome_manifest.name}}/dist/elements/{{kebab_case zome_manifest.name}}-context.js';

{{#merge_scope previous_file_content "entries: {"}}
{{previous_scope_content}}
  {{snake_case zome_manifest.name}}_integrity: {},
{{/merge_scope}}

function wrap{{pascal_case zome_manifest.name}}AppletView(
  client: AppAgentClient,
  profilesClient: ProfilesClient,
  weServices: WeServices,
  innerTemplate: TemplateResult
): TemplateResult {
  const {{camel_case zome_manifest.name}}Store = new {{pascal_case zome_manifest.name}}Store(new {{pascal_case zome_manifest.name}}Client(client, '{{snake_case zome_manifest.name}}'));
  return wrapAppletView(
    client,
    profilesClient,
    weServices,
      html`<{{kebab_case zome_manifest.name}}-context .store=${ {{camel_case zome_manifest.name}}Store}>
        ${innerTemplate}
      </{{kebab_case zome_manifest.name}}-context>`
    );
}

